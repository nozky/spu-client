{"version":3,"sources":["icons/solarActive.png","icons/solarInactive.png","components/Lmap.jsx","components/UserCount.jsx","components/Header.jsx","components/Footer.jsx","components/Btn.jsx","components/Nav.jsx","helpers/fetchData.js","components/Loading.jsx","App.js","pages/About.jsx","helpers/submit.js","helpers/searchLatLng.js","pages/Signup.jsx","helpers/submitHandleSignUp.js","helpers/auth.js","pages/Login.jsx","helpers/update.js","helpers/submitHandleUpdate.js","pages/Profile.jsx","components/ProtectedRoute.jsx","index.js"],"names":["activeIcon","L","iconUrl","solarActive","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","inactiveIcon","solarInactive","Lmap","spu","useState","mapCenter","setMapCenter","useEffect","Array","isArray","MapContainer","style","width","height","zoom","center","scrollWheelZoom","TileLayer","attribution","url","map","user","position","lat","lng","deleted","Marker","icon","active","Popup","fontStyle","fontWeight","details","name","power","toFixed","info","href","email","toString","_id","textAlign","padding","UserCount","userCount","className","Header","color","Footer","Btn","handle","ref","onClick","Nav","nav","useRef","current","querySelector","addEventListener","classList","remove","to","fetchData","a","fetch","process","headers","res","json","result","Loading","App","app","loading","setLoading","setSpu","add","length","then","data","About","submit","method","body","JSON","stringify","searchLatLng","placeName","parseFloat","lon","console","log","alert","point","Signup","currPosition","setCurrPosition","setZoom","setMap","searchStr","setSearchStr","navigator","geolocation","getCurrentPosition","err","coords","latitude","longitude","error","flyTo","getZoom","htmlFor","type","id","onChange","e","target","value","getLatLng","whenCreated","onSubmit","preventDefault","currentTarget","username","password","rpassword","passcode","registeredDate","Date","response","keyValue","submitHandleSignUp","required","placeholder","step","cols","rows","auth","userInfo","Login","isAuth","setIsAuth","userDetails","setUserDetails","setUserInfo","submitHandle","ok","pathname","state","update","submitHandleUpdate","isActive","isDeleted","Profile","location","setIsActive","setIsDeleted","deleteMsg","setDeleteMsg","readOnly","defaultValue","ProtectedRoute","Component","component","rest","render","props","ReactDOM","StrictMode","path","document","getElementById"],"mappings":"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","file":"static/js/main.67a3cd87.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/solarActive.1978514e.png\";","export default __webpack_public_path__ + \"static/media/solarInactive.96e48d21.png\";","import React,{ useEffect, useState } from 'react'\r\nimport { MapContainer, TileLayer, Popup, Marker } from 'react-leaflet'\r\nimport 'leaflet/dist/leaflet.css'\r\nimport './lmap.css'\r\nimport solarActive from '../icons/solarActive.png'\r\nimport solarInactive from '../icons/solarInactive.png'\r\nimport * as L from 'leaflet'\r\n\r\nconst activeIcon = new L.Icon({\r\n  iconUrl: solarActive,\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowSize: [41, 41],\r\n});\r\n\r\nconst inactiveIcon = new L.Icon({\r\n  iconUrl: solarInactive,\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowSize: [41, 41],\r\n});\r\n\r\nconst Lmap = ({spu}) => {\r\n  \r\n  // center map to philippines\r\n  const [mapCenter, setMapCenter] = useState([12.8797,121.7740])\r\n\r\n  useEffect(()=>{ setMapCenter([12.8797,121.7740]) },[])\r\n\r\n  if( !Array.isArray( spu ) ){\r\n    return(\r\n      <div style={{textAlign: 'center',padding: '3em'}}>\r\n        <h2>Application is not authorize!</h2>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <MapContainer \r\n      style={{width: '100%', height: '100%'}}\r\n      zoom={6} \r\n      center={mapCenter} \r\n      scrollWheelZoom={true} >\r\n       <TileLayer\r\n         attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n         url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n       />\r\n\r\n      {spu.map((user)=>{\r\n\r\n        let position = [user.position.lat, user.position.lng]\r\n\r\n        if( user.deleted === true) return null \r\n\r\n        return(\r\n          <Marker key={user._id} position={position} icon={ user.active? activeIcon : inactiveIcon  } >\r\n            <Popup>\r\n              <span style={{fontStyle:'italic', fontWeight: 'bold'}}>{ user.details.name }</span>  <br /> \r\n              <span style={{fontStyle:'italic', fontWeight: 'bold'}}>System power:</span> { user.details.power.toFixed(3) } kw <br /> \r\n              { user.details.info } <br />\r\n              <span style={{fontStyle:'italic', fontWeight: 'bold'}}>Contact:</span> <a href={`mailto: ${user.email}`}>{user.email}</a> <br />\r\n              <span style={{fontStyle:'italic', fontWeight: 'bold'}}>active:</span> {user.active.toString() }\r\n            </Popup>\r\n        </Marker>\r\n        )\r\n      })}\r\n\r\n    </MapContainer>\r\n  )\r\n}\r\n\r\n\r\nexport default Lmap\r\n","import React from 'react'\r\nimport { MdSupervisorAccount } from 'react-icons/md'\r\nimport './userCount.css'\r\n\r\nconst UserCount = ({userCount}) => {\r\n  return (\r\n    <div className='user-count'>\r\n      <MdSupervisorAccount/> {userCount}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserCount\r\n","import React from 'react'\r\nimport './header.css'\r\nimport UserCount from './UserCount'\r\n\r\nconst Header = ({userCount}) => {\r\n  return (\r\n    <div className='header'>\r\n        <UserCount userCount={userCount}/>\r\n        <h1><span style={{color: 'yellow'}}>S</span><span style={{color: 'red'}}>P</span>P</h1>\r\n        <p> <span>Solar</span> Power Philippines</p>\r\n        \r\n        \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport './footer.css'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className='footer'>\r\n      <p>Solar Power Philippines License: MIT 2021</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\nimport './btn.css'\r\n\r\n\r\nconst Btn = ({className, handle, icon, ref}) => {\r\n  return (\r\n     <div className={className}  onClick={handle}>\r\n       <p>Menu</p>\r\n       <i  onClick={handle}>{icon} </i>\r\n     </div>\r\n     \r\n  )\r\n}\r\n\r\nexport default Btn\r\n","import React, { useRef, useEffect } from 'react'\r\nimport './nav.css'\r\nimport  Btn  from './Btn'\r\nimport { CgCloseO } from 'react-icons/cg'\r\nimport {  Link } from 'react-router-dom'\r\n\r\n\r\nconst Nav = () => {\r\n  \r\n  const nav = useRef(nav)\r\n\r\n  // load event\r\n useEffect(()=>{\r\n   if(nav.current){\r\n     nav.current.querySelector('.navCloseBtn').addEventListener('click',()=>{ nav.current.classList.remove(\"show\") })\r\n     nav.current.addEventListener('click',()=> {  nav.current.classList.remove(\"show\") })\r\n   }  \r\n })\r\n\r\n  return (\r\n    <div className='nav' ref={nav}>\r\n      <ul>\r\n        <li><Link to=\"/\">Map</Link></li>\r\n        <li><Link to=\"/login\">Profile</Link></li>\r\n        <li><Link to=\"/signup\">Sign Up</Link></li>\r\n        <li><Link to=\"/about\">About</Link></li>\r\n      </ul>\r\n      <Btn className={'navCloseBtn'} icon={ <CgCloseO /> }  />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Nav\r\n","\r\nexport const fetchData = async ()=> {\r\n  const res = await fetch(process.env.REACT_APP_BASE_API,{\r\n    \r\n    headers:{\r\n      'Content-type': 'application/json',\r\n      'Authorization': process.env.REACT_APP_API_KEY\r\n    }\r\n  })\r\n\r\n  const result = await res.json()\r\n  return result\r\n}","import React from 'react'\r\nimport './loading.css'\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className='loading'>\r\n      <h2>Loading...</h2>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","import React, { useEffect, useState, useRef } from 'react'\n\nimport Lmap from './components/Lmap'\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport Nav from './components/Nav';\nimport './App.css';\n\nimport { fetchData } from './helpers/fetchData'\nimport Loading from './components/Loading';\nimport Btn from './components/Btn';\n\nimport {  CgMenuRound } from 'react-icons/cg'\n\n\nfunction App() {\n\n  const app = useRef(app)\n\n  const [ loading, setLoading ] = useState(true)\n  const [ spu, setSpu ] = useState([])\n\n useEffect(()=>{\n   if(app.current){\n    app.current.querySelector('.menu').addEventListener('click',()=> app.current.querySelector('.nav').classList.add('show') )\n   }\n })\n \n useEffect(()=>{\n   if( spu.length === 0 ){\n     setLoading( true )\n   }else{\n     setLoading( false )\n   }\n },[spu])\n\n  useEffect(()=>{\n    fetchData().then( data => setSpu(data))\n    setLoading( false )\n  },[])\n\n  if( loading === true ) return <Loading />\n\n  return (\n    <div className='app' ref={app}>\n     <Header userCount={spu.length}/>\n\n      <main>\n        <Lmap spu={spu}/>\n      </main>  \n\n     <Footer />\n      <Nav />\n      <Btn  className={'menu'} icon={ <CgMenuRound/> } />\n    </div>\n  );\n}\n\n\nexport default App;\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './about.css'\r\n\r\nconst About = () => {\r\n  return (\r\n  <section className='about'>\r\n      <div className=\"about-head\">\r\n        <h2>SPP</h2>\r\n        <p>Solar Power Philippines</p>\r\n      </div>\r\n\r\n      <div className='about-text space'>\r\n        <p>Solar Power Philippine is made so we can have a visual representation of how many people already using solar power.</p>\r\n        <p>This is not limited to any group, it is for everyone consumption.</p>\r\n      </div>\r\n\r\n      <div>\r\n        <p>Maintained by: A member of Solar Power Philippines</p>\r\n      </div>\r\n\r\n      <div>\r\n        <p>Please email of any concern</p>\r\n        <a href=\"mailto:spup2021@gmail.com?subject=Mail from Our Site\">Send mail</a>\r\n      </div>\r\n\r\n      <div className='space'>\r\n        <p>Security notice: Please do not put your actual email password, instead create a new one.</p>\r\n        <p>All Password is being hash or encrpted, even me as a developer will not be able to access your information.</p>\r\n      </div>\r\n\r\n      \r\n      <div>\r\n        <Link to='/'>Map</Link>\r\n      </div>\r\n    \r\n\r\n      <footer>\r\n        <p>Solar Power Philippines license: MIT 2021</p>\r\n      </footer>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default About\r\n","\r\n\r\nexport const  submit = async (url,data)=> {\r\n  const res = await fetch(url + 'register',{\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\" : \"application/json\",\r\n      'Authorization': process.env.REACT_APP_API_KEY\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n\r\n  return res\r\n} ","export const searchLatLng = async ( placeName ) => {\r\n const url = `https://nominatim.openstreetmap.org/?addressdetails=1&q=${placeName}&format=json&limit=1` \r\n\r\n try {\r\n    const res = await fetch( url )\r\n    const result = await res.json()\r\n    const lat = parseFloat(result[0].lat)\r\n    const lng = parseFloat(result[0].lon)\r\n    return({lat,lng})\r\n } catch (error) {\r\n    console.log( error )\r\n    alert (\"Cannot find address\")\r\n }\r\n}\r\n\r\n","import React,{ useEffect,useState }from 'react'\r\nimport './signup.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { submitHandleSignUp } from '../helpers/submitHandleSignUp'\r\nimport { searchLatLng } from '../helpers/searchLatLng'\r\n\r\nimport { MapContainer, TileLayer, Popup, Marker } from 'react-leaflet'\r\nimport * as L from 'leaflet'\r\nimport 'leaflet/dist/leaflet.css'\r\n\r\nimport { FcSearch } from 'react-icons/fc';\r\nimport  solarActive from '../icons/solarActive.png'\r\n \r\n\r\nconst point = new L.Icon({\r\n  iconUrl: solarActive,\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowSize: [41, 41],\r\n});\r\n\r\nconst Signup = () => {\r\n\r\nconst [ currPosition, setCurrPosition ] = useState({lat: 12.8797, lng: 121.7740})\r\nconst [ zoom, setZoom ] = useState(10)\r\nconst [ map, setMap ] = useState(null)\r\nconst [ searchStr, setSearchStr ] = useState(null)\r\n\r\n  useEffect( ()=>{\r\n    try {\r\n      navigator.geolocation.getCurrentPosition((data, err)=>{\r\n        if(err) { return null }\r\n          setZoom(8)\r\n          setCurrPosition( current => current = { lat: data.coords.latitude, lng: data.coords.longitude }  )\r\n        })\r\n    } catch (error) {\r\n      console.log( error )\r\n    }\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    try {\r\n      if(map=== null ) return null\r\n    map.flyTo({lat: currPosition.lat, lng: currPosition.lng}, map.getZoom(),[currPosition])\r\n    } catch (error) {\r\n      console.log( error )\r\n    }\r\n  },[currPosition,map])\r\n\r\n  const getLatLng = (searchStr)=> {\r\n    searchLatLng(searchStr).then( (result ) =>  {\r\n      if(result){  \r\n        setCurrPosition((current) => current = result)\r\n      }\r\n   })\r\n  }\r\n  \r\n\r\n  return (\r\n    <div className='signup'>\r\n      \r\n      <div className='signup-head'>\r\n      <h2>Sign Up</h2>\r\n      <p>Solar Power Philippines</p>\r\n        {/* <div className='google-signin'>\r\n          <p>Sign in with google</p>\r\n          <button >Sign In</button>\r\n        </div> */}\r\n      </div>\r\n\r\n      <div className='map-wrapper'>\r\n\r\n        <div className='searchPlace'>\r\n          <label htmlFor=\"searchPlace\">Search place</label>\r\n          <input type=\"text\" name=\"searchPlace\" id=\"searchPlace\" className='searchPlace' onChange={e => setSearchStr((current => current = e.target.value))}/>\r\n          <i onClick={()=> getLatLng(searchStr)}><FcSearch/></i>\r\n        </div>\r\n\r\n        <div className='form-map'>\r\n          \r\n            <MapContainer \r\n                style={{width: '100%', height: '100%'}} \r\n                zoom={zoom} \r\n                center={[currPosition.lat, currPosition.lng]} \r\n                scrollWheelZoom={true}\r\n                whenCreated={(map)=>  setMap( map )}\r\n              >\r\n                  <TileLayer\r\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                  />\r\n                <Marker position={[currPosition.lat, currPosition.lng]} icon={ point }>\r\n                  <Popup>Your Selected Location here!</Popup>\r\n                </Marker>\r\n            </MapContainer>\r\n        </div> \r\n      \r\n\r\n        <form onSubmit={(e)=> submitHandleSignUp(e)} className='form-info'>\r\n          <div>\r\n            <label htmlFor=\"username\">Username</label>\r\n            <input type=\"text\" name='username' id='username' required/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input type=\"email\" name='email' id='email' required/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input type=\"password\" name='password' id='password' required placeholder='Do not use your email password' />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"rpassword\">Repeat Password</label>\r\n            <input type=\"password\" name='rpassword' id='rpassword' required/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input type=\"text\" name='name' id='name' required placeholder=\" (Any System Name )\"/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"power\">Power(kw)</label>\r\n            <input type=\"number\" step=\"any\" name='power' id='power' required placeholder=' (Number: 0.000 ex: 0.500 for watts)'/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"info\">More Info</label>\r\n            <textarea name=\"info\" id=\"info\" cols=\"40\" rows=\"2\" placeholder='(Optional)'></textarea>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"lat\">Latitude</label>\r\n            <input type=\"number\" \r\n                   step='any' \r\n                   name='lat' \r\n                   id='lat' \r\n                   value={currPosition.lat} \r\n                   onChange={(e)=> setCurrPosition((current)=>  ( {...current, lat: e.target.value} ) )} \r\n                   required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"lng\">Longitude</label>\r\n            <input type=\"number\" \r\n                   step='any' \r\n                   name='lng' \r\n                   id='lng' \r\n                   value={currPosition.lng}  \r\n                   onChange={(e)=> setCurrPosition((current)=> ( {...current, lng: e.target.value} ) )} \r\n                   required\r\n            />\r\n          </div>\r\n\r\n          <div className='submit-btn'>\r\n              <button type='submit'>Submit</button>\r\n              <button type='reset'>Clear</button>\r\n          </div>\r\n        \r\n        </form>\r\n\r\n        <div className='footer'>\r\n          <p className='back'><Link to=\"/\">Back to Map</Link></p>\r\n        </div>\r\n      </div>\r\n      \r\n\r\n    </div>\r\n    // end signup\r\n  \r\n  )\r\n}\r\n\r\nexport default Signup\r\n","import { submit } from './submit'\r\n\r\nexport const submitHandleSignUp = (e)=> {\r\n  e.preventDefault()\r\n\r\n  const { username, email, password,rpassword, name, power, info, lat, lng  } = e.currentTarget\r\n\r\n  if( password.value !== rpassword.value ){\r\n    alert('password does not match!')\r\n    return null\r\n  }\r\n\r\n  console.log('Build data...')\r\n\r\n  const data = {\r\n    username: username.value,\r\n    email: email.value,\r\n    passcode: password.value,\r\n    details:{\r\n      name: name.value,\r\n      power: power.value,\r\n      info: info.value,\r\n    },\r\n    position: {\r\n      lat: lat.value,\r\n      lng: lng.value\r\n    },\r\n    active: true,\r\n    deleted: false,\r\n    registeredDate: new Date()\r\n  }\r\n\r\n\r\n  console.log( 'submitting data')\r\n  submit(process.env.REACT_APP_BASE_API, data)\r\n    .then( response => response.json())\r\n    .then ( result => { \r\n      if(result.name !=='success'){\r\n        console.log( result.name )\r\n        alert(`Entry - ${JSON.stringify(result.keyValue)} alreay exist!`)\r\n      }else{\r\n        console.log( result.name )\r\n        alert('Thank you for singing up. Go Solar PHilippines Users!')\r\n      }\r\n    } ) \r\n}","export const auth = async (userInfo)=>{\r\n\r\n  const response = await fetch( process.env.REACT_APP_BASE_API + \"login\",{\r\n    method: \"POST\", \r\n    headers:{\r\n      \"Content-type\": \"application/json\",\r\n      \"Authorization\": process.env.REACT_APP_API_KEY\r\n    },\r\n    body: JSON.stringify( userInfo )\r\n  })\r\n\r\n  return response\r\n\r\n}","import React,{ useState } from 'react'\r\nimport './login.css'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { auth } from '../helpers/auth'\r\n\r\n\r\nconst Login = () => {\r\n  const [ isAuth, setIsAuth] = useState( false )\r\n  const [ userDetails, setUserDetails ] = useState({})\r\n  const [ userInfo, setUserInfo ] = useState({})\r\n\r\n  const submitHandle = async (e)=> {\r\n    e.preventDefault()\r\n    const response =  await auth( userInfo )\r\n    \r\n    if( response.ok ){\r\n      const result = await response.json()\r\n      setUserDetails( result )\r\n      setIsAuth( true )\r\n    }else{\r\n      alert('Invalid information! Please check and try again.')\r\n    }\r\n  }\r\n\r\n  if( isAuth ){\r\n    return <Redirect to ={ {pathname:\"/profile\", state: isAuth,  userDetails: userDetails, userInfo: userInfo } }/>\r\n  }\r\n\r\n  return (\r\n    <div className='login'>\r\n      \r\n      <div className=\"login-head\">\r\n        <h1>SPP</h1>\r\n        <p>Solar Power Philippines</p>\r\n      </div>\r\n\r\n        <form onSubmit={(e)=> submitHandle(e)}>\r\n          <div>\r\n            <label htmlFor=\"username\">User Name</label>\r\n            <input type=\"text\" \r\n                   id=\"username\" \r\n                   name=\"username\" \r\n                   placeholder=\"User Name (case sensitive)\" \r\n                   onChange ={(e)=> setUserInfo( (current) => ({...current, username: e.target.value}) ) }\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input type=\"password\" \r\n                   id=\"password\" \r\n                   name=\"password\" \r\n                   placeholder=\"Password (case sensitive)\"\r\n                   onChange={(e)=> setUserInfo( (current) => ({...current, password: e.target.value}) )} \r\n            />\r\n          </div>\r\n\r\n          <div className='login-buttons'>\r\n            <button className=\"btn\">Log In</button>\r\n          </div>\r\n        </form> \r\n\r\n        <div className='home'>\r\n          <Link to='/' >Back to Map</Link>\r\n        </div>\r\n\r\n        <div className='login-signup'>\r\n          <p>No Account yet? </p>\r\n          <p>Sign Up! It's free!</p>\r\n          <Link to='/' >Sign Up Now!</Link>\r\n        </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","export const update = async ( url, data )=>{\r\n  const res = await fetch(url + 'update',{\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-type\" : \"application/json\",\r\n      'Authorization': process.env.REACT_APP_API_KEY\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n\r\n  return res\r\n}","import { update } from './update'\r\n\r\nexport const submitHandleUpdate = async (e)=> {\r\n  e.preventDefault()\r\n \r\n  const { username, email, password,rpassword, name, power, info, lat, lng, isActive, isDeleted   } = e.currentTarget\r\n\r\n  if( password.value !== rpassword.value ){\r\n    alert('password does not match!')\r\n    return null\r\n  }\r\n\r\n  const data = {\r\n    username: username.value,\r\n    email: email.value,\r\n    passcode: password.value,\r\n    details:{\r\n      name: name.value,\r\n      power: power.value,\r\n      info: info.value,\r\n    },\r\n    position: {\r\n      lat: lat.value,\r\n      lng: lng.value\r\n    },\r\n    active: isActive.value,\r\n    deleted: isDeleted.value,\r\n    registeredDate: new Date()\r\n  }\r\n\r\n  const response = await  update(process.env.REACT_APP_BASE_API, data)\r\n  if ( response.ok ){\r\n    alert( `Update successful!`)\r\n  }\r\n    \r\n    \r\n}","import React,{ useState, useEffect } from 'react'\r\nimport './profile.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { searchLatLng } from '../helpers/searchLatLng'\r\nimport { submitHandleUpdate } from '../helpers/submitHandleUpdate'\r\n\r\n\r\nimport { MapContainer, TileLayer, Popup, Marker } from 'react-leaflet'\r\nimport * as L from 'leaflet'\r\nimport 'leaflet/dist/leaflet.css'\r\n\r\nimport { FcSearch } from 'react-icons/fc';\r\nimport  solarActive from '../icons/solarActive.png'\r\n\r\nconst Profile = ( {location, ...rest} ) => {\r\n\r\n  const { username, email, details, position, active, deleted } = location.userDetails\r\n\r\n\r\n  const [ currPosition, setCurrPosition ] = useState({lat: position.lat, lng: position.lng})\r\n  const [ zoom, setZoom ] = useState(8)\r\n  const [ map, setMap ] = useState(null)\r\n  const [ searchStr, setSearchStr ] = useState(null)\r\n  const [ isActive, setIsActive ] = useState( active )\r\n  const [ isDeleted, setIsDeleted ] = useState( deleted )\r\n  const [ deleteMsg, setDeleteMsg ] = useState('')\r\n\r\n  const point = new L.Icon({\r\n    iconUrl: solarActive,\r\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41],\r\n  });\r\n\r\n  useEffect(()=>{\r\n    try {\r\n      if(map=== null ) return null\r\n        setZoom(8)\r\n        map.flyTo({lat: currPosition.lat, lng: currPosition.lng}, map.getZoom(),[currPosition])\r\n    } catch (error) {\r\n        console.log( error )\r\n    }\r\n  },[currPosition,map])\r\n\r\n\r\n  useEffect(()=>{\r\n    if(isDeleted){\r\n      setDeleteMsg(\"This account will be deleted after a few days and you can no longer recover.\")\r\n    }else{\r\n      setDeleteMsg(\"\")\r\n    }\r\n  }, [isDeleted])\r\n\r\n\r\n\r\n  const getLatLng = (searchStr)=> {\r\n   searchLatLng(searchStr).then( (result ) =>  {\r\n    if(result){  \r\n      setCurrPosition((current) => current = result)\r\n    }\r\n   })\r\n  }\r\n\r\n  \r\n  return (\r\n\r\n    <div className='profile'>\r\n      \r\n      <div className='profile-head'>\r\n        <h2>Update Profile</h2>\r\n        <p>Solar Power Philippines</p>\r\n      </div>\r\n\r\n      <div className='map-wrapper'>\r\n\r\n        <div className='searchPlace'>\r\n          <label htmlFor=\"searchPlace\">Search place</label>\r\n          <input type=\"text\" name=\"searchPlace\" id=\"searchPlace\" className='searchPlace' onChange={e => setSearchStr((current => current = e.target.value))}/>\r\n          <i onClick={()=> getLatLng(searchStr)}><FcSearch/></i>\r\n        </div>\r\n\r\n        <div className='form-map'>\r\n            <MapContainer \r\n                style={{width: '100%', height: '100%'}} \r\n                zoom={zoom} \r\n                center={[currPosition.lat, currPosition.lng]} \r\n                scrollWheelZoom={true}\r\n                whenCreated={(map)=>  setMap( map )}\r\n              >\r\n                  <TileLayer\r\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                  />\r\n                <Marker position={[currPosition.lat, currPosition.lng]} icon={ point }>\r\n                  <Popup>Your Selected Location here!</Popup>\r\n                </Marker>\r\n            </MapContainer>\r\n        </div> \r\n      \r\n\r\n        <form onSubmit={(e)=> submitHandleUpdate(e)} className='form-info'>\r\n          <div>\r\n            <label htmlFor=\"username\">Username</label>\r\n            <input type=\"text\" name='username' id='username' value={username} readOnly/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input type=\"email\" name='email' id='email' defaultValue={email} required/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input type=\"password\" name='password' id='password' defaultValue={location.userInfo.password} />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"rpassword\">Repeat Password</label>\r\n            <input type=\"password\" name='rpassword' id='rpassword' required/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input type=\"text\" name='name' id='name' defaultValue={details.name} required placeholder=\" (System name)\"/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"power\">Power(kw)</label>\r\n            <input type=\"number\" step=\"any\" name='power' id='power' defaultValue={details.power} required placeholder=' (Number: 0.000)'/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"info\">More Info</label>\r\n            <textarea name=\"info\" id=\"info\" cols=\"40\" rows=\"2\" defaultValue={details.info}  placeholder='(Optional)'></textarea>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"lat\">Latitude</label>\r\n            <input type=\"number\" step='any' name='lat' id='lat' value={ currPosition.lat } onChange={(e)=> setCurrPosition((current)=> ({...current, lat: e.target.value}) )} required/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"lng\">Longitude</label>\r\n            <input type=\"number\" step='any' name='lng' id='lng' value={ currPosition.lng } onChange={(e)=> setCurrPosition((current)=> ({...current, lat: e.target.value}) )} required/>\r\n          </div>\r\n\r\n          <div className='delete-message' style={{color: 'red'}}  >{deleteMsg}</div>\r\n          <div className='submit-btn'>\r\n              <button id=\"submit\" name=\"submit\" type='submit'>Update</button>\r\n              <button id=\"isActive\" name=\"isActive\" type=\"button\" value={isActive} onClick={()=>setIsActive(!isActive)} >{ isActive? \"Deactivate\" : \"Activate\" }</button>\r\n              <button id=\"isDeleted\" name=\"isDeleted\" type=\"button\" value={isDeleted} style={{color: 'red'}} onClick={()=> setIsDeleted(!isDeleted)} >{ isDeleted? \"Undo Del\" : \"Delete\" }</button>\r\n          </div>\r\n        \r\n          <div className='footer'>\r\n            <Link to='/'>Back to Map</Link>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n      \r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\n\r\nconst ProtectedRoute = ({component: Component, ...rest}) => {\r\n\r\n  return (\r\n    <>\r\n      <Route {...rest} render={ (props)=>{ \r\n        if({...rest}.location.state){\r\n          return <Component { ...props } /> \r\n        }else{\r\n          return <Redirect to=\"/login\"  />\r\n        }\r\n      }} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport { BrowserRouter as Router, Switch, Route} from 'react-router-dom'\n\nimport App from './App';\nimport About from './pages/About'\nimport Signup from './pages/Signup'\nimport Login from './pages/Login'\nimport Profile from './pages/Profile';\nimport ProtectedRoute from './components/ProtectedRoute'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Switch>\n        <Route path=\"/signup\" component={Signup} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/about\" component={About} />\n        <ProtectedRoute path=\"/profile\" component={Profile} />\n        <Route path='/' component={App} />\n      </Switch>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}