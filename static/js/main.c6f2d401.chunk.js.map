{"version":3,"sources":["icons/solarActive.png","icons/solarInactive.png","components/Lmap.jsx","components/Header.jsx","components/Footer.jsx","components/Btn.jsx","components/Nav.jsx","helpers/fetchData.js","components/Loading.jsx","App.js","pages/About.jsx","helpers/submit.js","helpers/searchLatLng.js","pages/Signup.jsx","helpers/submitHandleSignUp.js","helpers/auth.js","pages/Login.jsx","helpers/update.js","helpers/submitHandleUpdate.js","pages/Profile.jsx","components/ProtectedRoute.jsx","index.js"],"names":["activeIcon","L","iconUrl","solarActive","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","inactiveIcon","solarInactive","Lmap","spu","useState","mapCenter","setMapCenter","useEffect","Array","isArray","MapContainer","style","width","height","zoom","center","scrollWheelZoom","TileLayer","attribution","url","map","user","position","lat","lng","deleted","Marker","icon","active","Popup","fontStyle","fontWeight","details","name","power","info","email","toString","_id","textAlign","padding","Header","className","backgroundColor","color","Footer","Btn","handle","ref","onClick","Nav","nav","useRef","current","querySelector","addEventListener","classList","remove","to","fetchData","a","fetch","process","headers","res","json","result","Loading","App","app","loading","setLoading","setSpu","add","then","data","About","href","submit","method","body","JSON","stringify","searchLatLng","placeName","parseFloat","lon","console","log","alert","point","Signup","currPosition","setCurrPosition","setZoom","setMap","searchStr","setSearchStr","navigator","geolocation","getCurrentPosition","err","coords","latitude","longitude","error","flyTo","getZoom","htmlFor","type","id","onChange","e","target","value","getLatLng","whenCreated","onSubmit","preventDefault","currentTarget","username","password","rpassword","passcode","registeredDate","Date","response","keyValue","submitHandleSignUp","required","placeholder","step","cols","rows","auth","userInfo","Login","isAuth","setIsAuth","userDetails","setUserDetails","setUserInfo","submitHandle","ok","pathname","state","update","submitHandleUpdate","isActive","isDeleted","Profile","location","setIsActive","setIsDeleted","deleteMsg","setDeleteMsg","readOnly","defaultValue","ProtectedRoute","Component","component","rest","render","props","ReactDOM","StrictMode","path","document","getElementById"],"mappings":"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","file":"static/js/main.c6f2d401.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/solarActive.1978514e.png\";","export default __webpack_public_path__ + \"static/media/solarInactive.96e48d21.png\";","import React,{ useEffect, useState } from 'react'\r\nimport { MapContainer, TileLayer, Popup, Marker } from 'react-leaflet'\r\nimport 'leaflet/dist/leaflet.css'\r\nimport './lmap.css'\r\nimport solarActive from '../icons/solarActive.png'\r\nimport solarInactive from '../icons/solarInactive.png'\r\nimport * as L from 'leaflet'\r\n\r\nconst activeIcon = new L.Icon({\r\n  iconUrl: solarActive,\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowSize: [41, 41],\r\n});\r\n\r\nconst inactiveIcon = new L.Icon({\r\n  iconUrl: solarInactive,\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowSize: [41, 41],\r\n});\r\n\r\n\r\nconst Lmap = ({spu}) => {\r\n\r\n  \r\n  // center map to philippines\r\n  const [mapCenter, setMapCenter] = useState([12.8797,121.7740])\r\n\r\n  useEffect(()=>{ setMapCenter([12.8797,121.7740]) },[])\r\n\r\n\r\n  if( !Array.isArray( spu ) ){\r\n    return(\r\n      <div style={{textAlign: 'center',padding: '3em'}}>\r\n        <h2>Application is not authorize!</h2>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <MapContainer \r\n      style={{width: '100%', height: '100%'}}\r\n      zoom={6} \r\n      center={mapCenter} \r\n      scrollWheelZoom={true} >\r\n       <TileLayer\r\n         attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n         url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n       />\r\n\r\n      {spu.map((user)=>{\r\n\r\n        let position = [user.position.lat, user.position.lng]\r\n\r\n        if( user.deleted === true) return null \r\n\r\n        return(\r\n          <Marker key={user._id} position={position} icon={ user.active? activeIcon : inactiveIcon  } >\r\n            <Popup>\r\n              <span style={{fontStyle:'italic', fontWeight: 'bold'}}>{ user.details.name }</span>  <br /> \r\n              <span style={{fontStyle:'italic', fontWeight: 'bold'}}>System power:</span> { user.details.power } kw <br /> \r\n              { user.details.info } <br />\r\n              <span style={{fontStyle:'italic', fontWeight: 'bold'}}>Contact:</span> {user.email} <br />\r\n              <span style={{fontStyle:'italic', fontWeight: 'bold'}}>active:</span> {user.active.toString() }\r\n            </Popup>\r\n        </Marker>\r\n        )\r\n      })}\r\n\r\n    </MapContainer>\r\n  )\r\n}\r\n\r\n\r\nexport default Lmap\r\n","import React from 'react'\r\nimport './header.css'\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className='header' style={{backgroundColor: 'blue', color: 'white'}}>\r\n        <h1><span style={{color: 'yellow'}}>S</span><span style={{color: 'red'}}>P</span>P</h1>\r\n        <p> <span>Solar</span> Power Philippines</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport './footer.css'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className='footer'>\r\n      <p>Solar Power Philippines License: MIT 2021</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\nimport './btn.css'\r\n\r\n\r\nconst Btn = ({className, handle, icon, ref}) => {\r\n  return (\r\n     <i className={className} onClick={handle}>{icon}  </i>\r\n  )\r\n}\r\n\r\nexport default Btn\r\n","import React, { useRef, useEffect } from 'react'\r\nimport './nav.css'\r\nimport  Btn  from './Btn'\r\nimport { CgCloseO } from 'react-icons/cg'\r\nimport {  Link } from 'react-router-dom'\r\n\r\n\r\nconst Nav = () => {\r\n  \r\n  const nav = useRef(nav)\r\n\r\n  // load event\r\n useEffect(()=>{\r\n   if(nav.current){\r\n     nav.current.querySelector('.navCloseBtn').addEventListener('click',()=>{ nav.current.classList.remove(\"show\") })\r\n     nav.current.addEventListener('click',()=> {  nav.current.classList.remove(\"show\") })\r\n   }  \r\n })\r\n\r\n  return (\r\n    <div className='nav' ref={nav}>\r\n      <ul>\r\n        <li><Link to=\"/\">Map</Link></li>\r\n        <li><Link to=\"/login\">Profile</Link></li>\r\n        <li><Link to=\"/signup\">SignUp</Link></li>\r\n        <li><Link to=\"/about\">About</Link></li>\r\n      </ul>\r\n      <Btn className={'navCloseBtn'} icon={ <CgCloseO /> }/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Nav\r\n","\r\nexport const fetchData = async ()=> {\r\n  const res = await fetch(process.env.REACT_APP_BASE_API,{\r\n    \r\n    headers:{\r\n      'Content-type': 'application/json',\r\n      'Authorization': process.env.REACT_APP_API_KEY\r\n    }\r\n  })\r\n\r\n  const result = await res.json()\r\n  return result\r\n}","import React from 'react'\r\nimport './loading.css'\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className='loading'>\r\n      <h2>Loading...</h2>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","import React, { useEffect, useState, useRef } from 'react'\n\nimport Lmap from './components/Lmap'\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport Nav from './components/Nav';\nimport './App.css';\n\nimport { fetchData } from './helpers/fetchData'\nimport Loading from './components/Loading';\nimport Btn from './components/Btn';\n\nimport {  FiArrowUpCircle } from 'react-icons/fi'\n\nfunction App() {\n\n  const app = useRef(app)\n\n  const [ loading, setLoading ] = useState(true)\n  const [ spu, setSpu ] = useState([])\n\n useEffect(()=>{\n   if(app.current){\n    app.current.querySelector('.menu').addEventListener('click',()=> app.current.querySelector('.nav').classList.add('show') )\n   }\n })\n  \n  useEffect(()=>{\n    fetchData().then( data => setSpu(data))\n    setLoading( false )\n  },[])\n\n  if( loading === true ) return <Loading />\n\n  return (\n    <div className='app' ref={app}>\n     <Header />\n\n      <main>\n        <Lmap spu={spu}/>\n      </main>  \n\n     <Footer />\n      <Nav />\n      <Btn  className={'menu'} icon={ <FiArrowUpCircle/> } />\n    </div>\n  );\n}\n\n\nexport default App;\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './about.css'\r\n\r\nconst About = () => {\r\n  return (\r\n  <section className='about'>\r\n      <div className=\"about-head\">\r\n        <h2>SPP</h2>\r\n        <p>Solar Power Philippines</p>\r\n      </div>\r\n\r\n      <div className='about-text space'>\r\n        <p>Solar Power Philippine is made so we can have a visual representation of how many people already using solar power.</p>\r\n        <p>This is not limited to any group, it is for everyone consumption.</p>\r\n      </div>\r\n\r\n      <div>\r\n        <p>Maintained by: A member of Solar Power Philippines</p>\r\n      </div>\r\n\r\n      <div>\r\n        <p>Please email of any concern</p>\r\n        <a href=\"mailto:spup2021@gmail.com?subject=Mail from Our Site\">Send mail</a>\r\n      </div>\r\n\r\n      <div className='space'>\r\n        <p>Security notice: Please do not put your actual email password, instead create a new one.</p>\r\n        <p>All Password is being hash or encrpted, even me as a developer will not be able to access your information.</p>\r\n      </div>\r\n\r\n      \r\n      <div>\r\n        <Link to='/'>Map</Link>\r\n      </div>\r\n    \r\n\r\n      <footer>\r\n        <p>Solar Power Philippines license: MIT 2021</p>\r\n      </footer>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default About\r\n","\r\n\r\nexport const  submit = async (url,data)=> {\r\n  const res = await fetch(url + 'register',{\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\" : \"application/json\",\r\n      'Authorization': process.env.REACT_APP_API_KEY\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n\r\n  return res\r\n} ","export const searchLatLng = async ( placeName ) => {\r\n const url = `https://nominatim.openstreetmap.org/?addressdetails=1&q=${placeName}&format=json&limit=1` \r\n\r\n try {\r\n    const res = await fetch( url )\r\n    const result = await res.json()\r\n    const lat = parseFloat(result[0].lat)\r\n    const lng = parseFloat(result[0].lon)\r\n    return({lat,lng})\r\n } catch (error) {\r\n    console.log( error )\r\n    alert (\"Cannot find address\")\r\n }\r\n}\r\n\r\n","import React,{ useEffect,useState }from 'react'\r\nimport './signup.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { submitHandleSignUp } from '../helpers/submitHandleSignUp'\r\nimport { searchLatLng } from '../helpers/searchLatLng'\r\n\r\nimport { MapContainer, TileLayer, Popup, Marker } from 'react-leaflet'\r\nimport * as L from 'leaflet'\r\nimport 'leaflet/dist/leaflet.css'\r\n\r\nimport { FcSearch } from 'react-icons/fc';\r\nimport  solarActive from '../icons/solarActive.png'\r\n \r\n\r\nconst point = new L.Icon({\r\n  iconUrl: solarActive,\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowSize: [41, 41],\r\n});\r\n\r\nconst Signup = () => {\r\n\r\nconst [ currPosition, setCurrPosition ] = useState({lat: 12.8797, lng: 121.7740})\r\nconst [ zoom, setZoom ] = useState(10)\r\nconst [ map, setMap ] = useState(null)\r\nconst [ searchStr, setSearchStr ] = useState(null)\r\n\r\n  useEffect( ()=>{\r\n    try {\r\n      navigator.geolocation.getCurrentPosition((data, err)=>{\r\n        if(err) { return null }\r\n          setZoom(8)\r\n          setCurrPosition( current => current = { lat: data.coords.latitude, lng: data.coords.longitude }  )\r\n        })\r\n    } catch (error) {\r\n      console.log( error )\r\n    }\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    try {\r\n      if(map=== null ) return null\r\n    map.flyTo({lat: currPosition.lat, lng: currPosition.lng}, map.getZoom(),[currPosition])\r\n    } catch (error) {\r\n      console.log( error )\r\n    }\r\n  },[currPosition,map])\r\n\r\n  const getLatLng = (searchStr)=> {\r\n    searchLatLng(searchStr).then( (result ) =>  {\r\n      if(result){  \r\n        setCurrPosition((current) => current = result)\r\n      }\r\n   })\r\n  }\r\n  \r\n\r\n  return (\r\n    <div className='signup'>\r\n      \r\n      <div className='signup-head'>\r\n      <h2>Sign Up</h2>\r\n      <p>Solar Power Philippines</p>\r\n        <div className='google-signin'>\r\n          <p>Sign in with google</p>\r\n          <button >Sign In</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className='map-wrapper'>\r\n\r\n        <div className='searchPlace'>\r\n          <label htmlFor=\"searchPlace\">Search place</label>\r\n          <input type=\"text\" name=\"searchPlace\" id=\"searchPlace\" className='searchPlace' onChange={e => setSearchStr((current => current = e.target.value))}/>\r\n          <i onClick={()=> getLatLng(searchStr)}><FcSearch/></i>\r\n        </div>\r\n\r\n        <div className='form-map'>\r\n          \r\n            <MapContainer \r\n                style={{width: '100%', height: '100%'}} \r\n                zoom={zoom} \r\n                center={[currPosition.lat, currPosition.lng]} \r\n                scrollWheelZoom={true}\r\n                whenCreated={(map)=>  setMap( map )}\r\n              >\r\n                  <TileLayer\r\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                  />\r\n                <Marker position={[currPosition.lat, currPosition.lng]} icon={ point }>\r\n                  <Popup>Your Selected Location here!</Popup>\r\n                </Marker>\r\n            </MapContainer>\r\n        </div> \r\n      \r\n\r\n        <form onSubmit={(e)=> submitHandleSignUp(e)} className='form-info'>\r\n          <div>\r\n            <label htmlFor=\"username\">Username</label>\r\n            <input type=\"text\" name='username' id='username' required/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input type=\"email\" name='email' id='email' required/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input type=\"password\" name='password' id='password' required placeholder='Do not use your email password' />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"rpassword\">Repeat Password</label>\r\n            <input type=\"password\" name='rpassword' id='rpassword' required/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input type=\"text\" name='name' id='name' required placeholder=\" (System name)\"/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"power\">Power(kw)</label>\r\n            <input type=\"number\" step=\"any\" name='power' id='power' required placeholder=' (Number)'/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"info\">More Info</label>\r\n            <textarea name=\"info\" id=\"info\" cols=\"40\" rows=\"2\" placeholder='(Optional)'></textarea>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"lat\">Latitude</label>\r\n            <input type=\"number\" \r\n                   step='any' \r\n                   name='lat' \r\n                   id='lat' \r\n                   value={currPosition.lat} \r\n                   onChange={(e)=> setCurrPosition((current)=>  ( {...current, lat: e.target.value} ) )} \r\n                   required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"lng\">Longitude</label>\r\n            <input type=\"number\" \r\n                   step='any' \r\n                   name='lng' \r\n                   id='lng' \r\n                   value={currPosition.lng}  \r\n                   onChange={(e)=> setCurrPosition((current)=> ( {...current, lng: e.target.value} ) )} \r\n                   required\r\n            />\r\n          </div>\r\n\r\n          <div className='submit-btn'>\r\n              <button type='submit'>Submit</button>\r\n              <button type='reset'>Clear</button>\r\n          </div>\r\n        \r\n          <p className='back'><Link to=\"/\">Back to Map</Link></p>\r\n        </form>\r\n      </div>\r\n      \r\n\r\n    </div>\r\n    // end signup\r\n  \r\n  )\r\n}\r\n\r\nexport default Signup\r\n","import { submit } from './submit'\r\n\r\nexport const submitHandleSignUp = (e)=> {\r\n  e.preventDefault()\r\n\r\n  const { username, email, password,rpassword, name, power, info, lat, lng  } = e.currentTarget\r\n\r\n  if( password.value !== rpassword.value ){\r\n    alert('password does not match!')\r\n    return null\r\n  }\r\n\r\n  console.log('Build data...')\r\n\r\n  const data = {\r\n    username: username.value,\r\n    email: email.value,\r\n    passcode: password.value,\r\n    details:{\r\n      name: name.value,\r\n      power: power.value,\r\n      info: info.value,\r\n    },\r\n    position: {\r\n      lat: lat.value,\r\n      lng: lng.value\r\n    },\r\n    active: true,\r\n    deleted: false,\r\n    registeredDate: new Date()\r\n  }\r\n\r\n\r\n  console.log( 'submitting data')\r\n  submit(process.env.REACT_APP_BASE_API, data)\r\n    .then( response => response.json())\r\n    .then ( result => { \r\n      if(result.name !=='success'){\r\n        console.log( result.name )\r\n        alert(`Entry - ${JSON.stringify(result.keyValue)} alreay exist!`)\r\n      }else{\r\n        console.log( result.name )\r\n        alert('Thank you for singing up. Go Solar PHilippines Users!')\r\n      }\r\n    } ) \r\n}","export const auth = async (userInfo)=>{\r\n\r\n  const response = await fetch( process.env.REACT_APP_BASE_API + \"login\",{\r\n    method: \"POST\", \r\n    headers:{\r\n      \"Content-type\": \"application/json\",\r\n      \"Authorization\": process.env.REACT_APP_API_KEY\r\n    },\r\n    body: JSON.stringify( userInfo )\r\n  })\r\n\r\n  return response\r\n\r\n}","import React,{ useState } from 'react'\r\nimport './login.css'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { auth } from '../helpers/auth'\r\n\r\n\r\nconst Login = () => {\r\n  const [ isAuth, setIsAuth] = useState( false )\r\n  const [ userDetails, setUserDetails ] = useState({})\r\n  const [ userInfo, setUserInfo ] = useState({})\r\n\r\n  const submitHandle = async (e)=> {\r\n    e.preventDefault()\r\n    const response =  await auth( userInfo )\r\n    \r\n    if( response.ok ){\r\n      const result = await response.json()\r\n      setUserDetails( result )\r\n      setIsAuth( true )\r\n    }else{\r\n      alert('Invalid information! Please check and try again.')\r\n    }\r\n  }\r\n\r\n  if( isAuth ){\r\n    return <Redirect to ={ {pathname:\"/profile\", state: isAuth,  userDetails: userDetails, userInfo: userInfo } }/>\r\n  }\r\n\r\n  return (\r\n    <div className='login'>\r\n      \r\n      <div className=\"login-head\">\r\n        <h1>SPP</h1>\r\n        <p>Solar Power Philippines</p>\r\n      </div>\r\n\r\n        <form onSubmit={(e)=> submitHandle(e)}>\r\n          <div>\r\n            <label htmlFor=\"username\">User Name</label>\r\n            <input type=\"text\" \r\n                   id=\"username\" \r\n                   name=\"username\" \r\n                   placeholder=\"User Name (case sensitive)\" \r\n                   onChange ={(e)=> setUserInfo( (current) => ({...current, username: e.target.value}) ) }\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input type=\"password\" \r\n                   id=\"password\" \r\n                   name=\"password\" \r\n                   placeholder=\"Password (case sensitive)\"\r\n                   onChange={(e)=> setUserInfo( (current) => ({...current, password: e.target.value}) )} \r\n            />\r\n          </div>\r\n\r\n          <div className='login-buttons'>\r\n            <button className=\"btn\">Submit</button>\r\n          </div>\r\n        </form> \r\n\r\n        <div className='home'>\r\n          <Link to='/' >Back to Map</Link>\r\n        </div>\r\n\r\n        \r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","export const update = async ( url, data )=>{\r\n  const res = await fetch(url + 'update',{\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-type\" : \"application/json\",\r\n      'Authorization': process.env.REACT_APP_API_KEY\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n\r\n  return res\r\n}","import { update } from './update'\r\n\r\nexport const submitHandleUpdate = async (e)=> {\r\n  e.preventDefault()\r\n \r\n  const { username, email, password,rpassword, name, power, info, lat, lng, isActive, isDeleted   } = e.currentTarget\r\n\r\n  if( password.value !== rpassword.value ){\r\n    alert('password does not match!')\r\n    return null\r\n  }\r\n\r\n  const data = {\r\n    username: username.value,\r\n    email: email.value,\r\n    passcode: password.value,\r\n    details:{\r\n      name: name.value,\r\n      power: power.value,\r\n      info: info.value,\r\n    },\r\n    position: {\r\n      lat: lat.value,\r\n      lng: lng.value\r\n    },\r\n    active: isActive.value,\r\n    deleted: isDeleted.value,\r\n    registeredDate: new Date()\r\n  }\r\n\r\n  const response = await  update(process.env.REACT_APP_BASE_API, data)\r\n  if ( response.ok ){\r\n    alert( `Update successful!`)\r\n  }\r\n    \r\n    \r\n}","import React,{ useState, useEffect } from 'react'\r\nimport './profile.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { searchLatLng } from '../helpers/searchLatLng'\r\nimport { submitHandleUpdate } from '../helpers/submitHandleUpdate'\r\n\r\n\r\nimport { MapContainer, TileLayer, Popup, Marker } from 'react-leaflet'\r\nimport * as L from 'leaflet'\r\nimport 'leaflet/dist/leaflet.css'\r\n\r\nimport { FcSearch } from 'react-icons/fc';\r\nimport  solarActive from '../icons/solarActive.png'\r\n\r\nconst Profile = ( {location, ...rest} ) => {\r\n\r\n  const { username, email, details, position, active, deleted } = location.userDetails\r\n\r\n\r\n  const [ currPosition, setCurrPosition ] = useState({lat: position.lat, lng: position.lng})\r\n  const [ zoom, setZoom ] = useState(8)\r\n  const [ map, setMap ] = useState(null)\r\n  const [ searchStr, setSearchStr ] = useState(null)\r\n  const [ isActive, setIsActive ] = useState( active )\r\n  const [ isDeleted, setIsDeleted ] = useState( deleted )\r\n  const [ deleteMsg, setDeleteMsg ] = useState('')\r\n\r\n  const point = new L.Icon({\r\n    iconUrl: solarActive,\r\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41],\r\n  });\r\n\r\n  useEffect(()=>{\r\n    try {\r\n      if(map=== null ) return null\r\n        setZoom(8)\r\n        map.flyTo({lat: currPosition.lat, lng: currPosition.lng}, map.getZoom(),[currPosition])\r\n    } catch (error) {\r\n        console.log( error )\r\n    }\r\n  },[currPosition,map])\r\n\r\n  useEffect(()=>{\r\n    if(isDeleted){\r\n      setDeleteMsg((current)=> current=\"This account will be deleted and you can no longer recover.\")\r\n    }else{\r\n      setDeleteMsg(\"\")\r\n    }\r\n  }, [isDeleted])\r\n\r\n  const getLatLng = (searchStr)=> {\r\n   searchLatLng(searchStr).then( (result ) =>  {\r\n    if(result){  \r\n      setCurrPosition((current) => current = result)\r\n    }\r\n   })\r\n  }\r\n\r\n  \r\n  return (\r\n\r\n    <div className='profile'>\r\n      \r\n      <div className='profile-head'>\r\n        <h2>Update Profile</h2>\r\n        <p>Solar Power Philippines</p>\r\n      </div>\r\n\r\n      <div className='map-wrapper'>\r\n\r\n        <div className='searchPlace'>\r\n          <label htmlFor=\"searchPlace\">Search place</label>\r\n          <input type=\"text\" name=\"searchPlace\" id=\"searchPlace\" className='searchPlace' onChange={e => setSearchStr((current => current = e.target.value))}/>\r\n          <i onClick={()=> getLatLng(searchStr)}><FcSearch/></i>\r\n        </div>\r\n\r\n        <div className='form-map'>\r\n            <MapContainer \r\n                style={{width: '100%', height: '100%'}} \r\n                zoom={zoom} \r\n                center={[currPosition.lat, currPosition.lng]} \r\n                scrollWheelZoom={true}\r\n                whenCreated={(map)=>  setMap( map )}\r\n              >\r\n                  <TileLayer\r\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                  />\r\n                <Marker position={[currPosition.lat, currPosition.lng]} icon={ point }>\r\n                  <Popup>Your Selected Location here!</Popup>\r\n                </Marker>\r\n            </MapContainer>\r\n        </div> \r\n      \r\n\r\n        <form onSubmit={(e)=> submitHandleUpdate(e)} className='form-info'>\r\n          <div>\r\n            <label htmlFor=\"username\">Username</label>\r\n            <input type=\"text\" name='username' id='username' value={username} readOnly/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input type=\"email\" name='email' id='email' defaultValue={email} required/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input type=\"password\" name='password' id='password' defaultValue={location.userInfo.password} />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"rpassword\">Repeat Password</label>\r\n            <input type=\"password\" name='rpassword' id='rpassword' required/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input type=\"text\" name='name' id='name' defaultValue={details.name} required placeholder=\" (System name)\"/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"power\">Power(kw)</label>\r\n            <input type=\"number\" step=\"any\" name='power' id='power' defaultValue={details.power} required placeholder=' (Number)'/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"info\">More Info</label>\r\n            <textarea name=\"info\" id=\"info\" cols=\"40\" rows=\"2\" defaultValue={details.info}  placeholder='(Optional)'></textarea>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"lat\">Latitude</label>\r\n            <input type=\"number\" step='any' name='lat' id='lat' value={ currPosition.lat } onChange={(e)=> setCurrPosition((current)=> ({...current, lat: e.target.value}) )} required/>\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"lng\">Longitude</label>\r\n            <input type=\"number\" step='any' name='lng' id='lng' value={ currPosition.lng } onChange={(e)=> setCurrPosition((current)=> ({...current, lat: e.target.value}) )} required/>\r\n          </div>\r\n\r\n          <div className='delete-message' style={{color: 'red'}}  >{deleteMsg}</div>\r\n          <div className='submit-btn'>\r\n              <button id=\"submit\" name=\"submit\" type='submit'>Update</button>\r\n              <button id=\"isActive\" name=\"isActive\" type=\"button\" value={isActive} onClick={()=>setIsActive(!isActive)} >{ isActive? \"active\" : \"deactivated\" }</button>\r\n              <button id=\"isDeleted\" name=\"isDeleted\" type=\"button\" value={isDeleted} style={{color: 'red'}} onClick={()=> setIsDeleted(!isDeleted)} >{ isDeleted? \"Undo Del\" : \"Delete\" }</button>\r\n          </div>\r\n        \r\n          <Link to='/'>Back to Map</Link>\r\n\r\n        </form>\r\n      </div>\r\n      \r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\n\r\nconst ProtectedRoute = ({component: Component, ...rest}) => {\r\n\r\n  return (\r\n    <>\r\n      <Route {...rest} render={ (props)=>{ \r\n        if({...rest}.location.state){\r\n          return <Component { ...props } /> \r\n        }else{\r\n          return <Redirect to=\"/login\"  />\r\n        }\r\n      }} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport { BrowserRouter as Router, Switch, Route} from 'react-router-dom'\n\nimport App from './App';\nimport About from './pages/About'\nimport Signup from './pages/Signup'\nimport Login from './pages/Login'\nimport Profile from './pages/Profile';\nimport ProtectedRoute from './components/ProtectedRoute'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Switch>\n        <Route path=\"/signup\" component={Signup} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/about\" component={About} />\n        <ProtectedRoute path=\"/profile\" component={Profile} />\n        <Route path='/' component={App} />\n      </Switch>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}