{"version":3,"sources":["icons/solarActive.png","icons/solarInactive.png","components/Lmap.jsx","components/UserCount.jsx","components/Header.jsx","components/Footer.jsx","components/Btn.jsx","components/Nav.jsx","helpers/fetchData.js","components/Loading.jsx","App.js","pages/About.jsx","helpers/submit.js","helpers/searchLatLng.js","pages/Signup.jsx","helpers/submitHandleSignUp.js","helpers/auth.js","pages/Login.jsx","helpers/update.js","helpers/submitHandleUpdate.js","pages/Profile.jsx","components/ProtectedRoute.jsx","index.js"],"names":["activeIcon","L","iconUrl","solarActive","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","inactiveIcon","solarInactive","Lmap","spu","useState","mapCenter","Array","isArray","MapContainer","style","width","height","zoom","center","scrollWheelZoom","TileLayer","attribution","url","map","user","position","lat","lng","deleted","Marker","icon","active","Popup","fontStyle","fontWeight","details","name","power","toFixed","info","href","email","toString","_id","textAlign","padding","UserCount","userCount","className","Header","color","Footer","Btn","handle","ref","onClick","Nav","nav","useRef","useEffect","current","querySelector","addEventListener","classList","remove","to","fetchData","a","fetch","process","headers","res","json","result","Loading","App","app","loading","setLoading","setSpu","add","then","data","length","About","submit","method","body","JSON","stringify","searchLatLng","placeName","parseFloat","lon","console","log","alert","point","Signup","currPosition","setCurrPosition","setZoom","setMap","searchStr","setSearchStr","navigator","geolocation","getCurrentPosition","err","coords","latitude","longitude","error","flyTo","getZoom","type","id","onChange","e","target","value","placeholder","getLatLng","whenCreated","onSubmit","preventDefault","currentTarget","username","password","rpassword","passcode","registeredDate","Date","response","keyValue","submitHandleSignUp","htmlFor","required","step","cols","rows","auth","userInfo","Login","isAuth","setIsAuth","userDetails","setUserDetails","setUserInfo","submitHandle","ok","pathname","state","update","submitHandleUpdate","isActive","isDeleted","Profile","location","setIsActive","setIsDeleted","deleteMsg","setDeleteMsg","readOnly","defaultValue","ProtectedRoute","Component","component","rest","render","props","ReactDOM","StrictMode","path","document","getElementById"],"mappings":"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","file":"static/js/main.b679076b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/solarActive.1978514e.png\";","export default __webpack_public_path__ + \"static/media/solarInactive.96e48d21.png\";","import React,{ useEffect, useState } from 'react'\nimport { MapContainer, TileLayer, Popup, Marker } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\nimport './lmap.css'\nimport solarActive from '../icons/solarActive.png'\nimport solarInactive from '../icons/solarInactive.png'\nimport * as L from 'leaflet'\n\nconst activeIcon = new L.Icon({\n  iconUrl: solarActive,\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41],\n});\n\nconst inactiveIcon = new L.Icon({\n  iconUrl: solarInactive,\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41],\n});\n\nconst Lmap = ({spu}) => {\n  \n  // center map to philippines\n  const [mapCenter, setMapCenter] = useState([12.8797,121.7740])\n\n  // useEffect(()=>{ setMapCenter([12.8797,121.7740]) },[])\n\n  if( !Array.isArray( spu ) ){\n    return(\n      <div style={{textAlign: 'center',padding: '3em'}}>\n        <h2>Application is not authorize!</h2>\n      </div>\n    )\n  }\n\n  return (\n    <MapContainer \n      style={{width: '100%', height: '100%'}}\n      zoom={6} \n      center={mapCenter} \n      scrollWheelZoom={true} >\n       <TileLayer\n         attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n         url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n       />\n\n      {spu.map((user)=>{\n\n        let position = [user.position.lat, user.position.lng]\n\n        if( user.deleted === true) return null \n\n        return(\n          <Marker key={user._id} position={position} icon={ user.active? activeIcon : inactiveIcon  } >\n            <Popup>\n              <span style={{fontStyle:'italic', fontWeight: 'bold'}}>{ user.details.name }</span>  <br /> \n              <span style={{fontStyle:'italic', fontWeight: 'bold'}}>System power:</span> {  user.details.power < 1? user.details.power.toFixed(3) : user.details.power.toFixed(0) } kw <br /> \n              { user.details.info } <br />\n              <span style={{fontStyle:'italic', fontWeight: 'bold'}}>Contact:</span> <a href={`mailto: ${user.email}`}>{user.email}</a> <br />\n              <span style={{fontStyle:'italic', fontWeight: 'bold'}}>active:</span> {user.active.toString() }\n            </Popup>\n        </Marker>\n        )\n      })}\n\n    </MapContainer>\n  )\n}\n\n\nexport default Lmap\n","import React from 'react'\nimport { MdSupervisorAccount } from 'react-icons/md'\nimport './userCount.css'\n\nconst UserCount = ({userCount}) => {\n  return (\n    <div className='user-count'>\n      <MdSupervisorAccount/> {userCount}\n    </div>\n  )\n}\n\nexport default UserCount\n","import React from 'react'\nimport './header.css'\nimport UserCount from './UserCount'\n\nconst Header = ({userCount}) => {\n  return (\n    <div className='header'>\n        <UserCount userCount={userCount}/>\n        <h1><span style={{color: 'yellow'}}>S</span><span style={{color: 'red'}}>P</span>P</h1>\n        <p> <span>Solar</span> Power Philippines</p>\n    </div>\n  )\n}\n\nexport default Header\n","import React from 'react'\nimport './footer.css'\n\nconst Footer = () => {\n  return (\n    <div className='footer'>\n      <p>Solar Power Philippines License: MIT 2021 Version: 1.0</p>\n    </div>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport './btn.css'\n\nconst Btn = ({className, handle, icon, ref}) => {\n  return (\n     <div className={className}  onClick={handle}>\n       <p>Menu</p>\n       <i  onClick={handle}>{icon} </i>\n     </div>\n     \n  )\n}\n\nexport default Btn\n","import React, { useRef, useEffect } from 'react'\nimport './nav.css'\nimport  Btn  from './Btn'\nimport { CgCloseO } from 'react-icons/cg'\nimport {  Link } from 'react-router-dom'\n\n\nconst Nav = () => {\n  \n  const nav = useRef(nav)\n\n  // load event\n useEffect(()=>{\n   if(nav.current){\n     nav.current.querySelector('.navCloseBtn').addEventListener('click',()=>{ nav.current.classList.remove(\"show\") })\n     nav.current.addEventListener('click',()=> {  nav.current.classList.remove(\"show\") })\n   }  \n })\n\n  return (\n    <div className='nav' ref={nav}>\n      <ul>\n        <li><Link to=\"/\">Map</Link></li>\n        <li><Link to=\"/login\">Profile</Link></li>\n        <li><Link to=\"/signup\">Sign Up</Link></li>\n        <li><Link to=\"/about\">About</Link></li>\n      </ul>\n      <Btn className={'navCloseBtn'} icon={ <CgCloseO /> }  />\n    </div>\n  )\n}\n\nexport default Nav\n","\nexport const fetchData = async ()=> {\n  const res = await fetch(process.env.REACT_APP_BASE_API,{\n    \n    headers:{\n      'Content-type': 'application/json',\n      'Authorization': process.env.REACT_APP_API_KEY\n    }\n  })\n\n  const result = await res.json()\n  return result\n}","import React from 'react'\nimport './loading.css'\n\nconst Loading = () => {\n  return (\n    <div className='loading'>\n      <h2>Loading...</h2>\n    </div>\n  )\n}\n\nexport default Loading\n","import React, { useEffect, useState, useRef } from 'react'\n\nimport Lmap from './components/Lmap'\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport Nav from './components/Nav';\nimport './App.css';\n\nimport { fetchData } from './helpers/fetchData'\nimport Loading from './components/Loading';\nimport Btn from './components/Btn';\n\nimport {  FiSunrise } from 'react-icons/fi'\n\n\nfunction App() {\n\n  const app = useRef(app)\n\n  const [ loading, setLoading ] = useState(true)\n  const [ spu, setSpu ] = useState([])\n\n useEffect(()=>{\n   if(app.current){\n    app.current.querySelector('.menu').addEventListener('click',()=> app.current.querySelector('.nav').classList.add('show') )\n   }\n })\n \n  useEffect(()=>{\n    fetchData().then( data => setSpu(data))\n    setLoading( false )\n  },[])\n\n  useEffect(()=>{\n    if( spu.length === 0 ){\n      setLoading( true )\n    }else{\n      setLoading( false )\n    }\n  },[spu])\n\n  if( loading === true ) return <Loading />\n\n  return (\n    <div className='app' ref={app}>\n     <Header userCount={spu.length}/>\n\n      <main>\n        <Lmap spu={spu}/>\n      </main>  \n\n     <Footer />\n      <Nav />\n      <Btn  className={'menu'} icon={ <FiSunrise /> } />\n    </div>\n  );\n}\n\n\nexport default App;\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './about.css'\n\nconst About = () => {\n  return (\n  <section className='about'>\n      <div className=\"about-head\">\n        <h2>SPP</h2>\n        <p>Solar Power Philippines</p>\n      </div>\n\n      <div className='about-text space'>\n        <p>Solar Power Philippine is made so we can have a visual representation of how many people already using solar power.</p>\n        <p>This is not limited to any group, it is for everyone consumption.</p>\n      </div>\n\n      <div>\n        <p>Maintained by: A member of Solar Power Philippines</p>\n      </div>\n\n      <div className='btn'>\n        <p>Please email of any concern</p>\n        <a href=\"mailto:spup2021@gmail.com?subject=Mail from Our Site\">Send mail</a>\n      </div>\n\n      <div className='space'>\n        <p>Security notice: Please do not put your actual email password, instead create a new one.</p>\n        <p>All Password is being hash or encrpted, even me as a developer will not be able to access your information.</p>\n      </div>\n\n      \n      <div className='btn'>\n        <Link to='/'>Map</Link>\n      </div>\n    \n\n      <footer>\n        <p>Solar Power Philippines license: MIT 2021</p>\n      </footer>\n    </section>\n  )\n}\n\nexport default About\n","\n\nexport const  submit = async (url,data)=> {\n  const res = await fetch(url + 'register',{\n    method: \"POST\",\n    headers: {\n      \"Content-type\" : \"application/json\",\n      'Authorization': process.env.REACT_APP_API_KEY\n    },\n    body: JSON.stringify(data)\n  })\n\n  return res\n} ","export const searchLatLng = async ( placeName ) => {\n const url = `https://nominatim.openstreetmap.org/?addressdetails=1&q=${placeName}&format=json&limit=1` \n\n try {\n    const res = await fetch( url )\n    const result = await res.json()\n    const lat = parseFloat(result[0].lat)\n    const lng = parseFloat(result[0].lon)\n    return({lat,lng})\n } catch (error) {\n    console.log( error )\n    alert (\"Cannot find address\")\n }\n}\n\n","import React,{ useEffect,useState }from 'react'\nimport './signup.css'\nimport { Link } from 'react-router-dom'\n\nimport { submitHandleSignUp } from '../helpers/submitHandleSignUp'\nimport { searchLatLng } from '../helpers/searchLatLng'\n\nimport { MapContainer, TileLayer, Popup, Marker } from 'react-leaflet'\nimport * as L from 'leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nimport { FaSearchLocation } from 'react-icons/fa';\nimport  solarActive from '../icons/solarActive.png'\n \n\nconst point = new L.Icon({\n  iconUrl: solarActive,\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41],\n});\n\nconst Signup = () => {\n\nconst [ currPosition, setCurrPosition ] = useState({lat: 12.8797, lng: 121.7740})\nconst [ zoom, setZoom ] = useState(10)\nconst [ map, setMap ] = useState(null)\nconst [ searchStr, setSearchStr ] = useState(null)\n\n  useEffect( ()=>{\n    try {\n      navigator.geolocation.getCurrentPosition((data, err)=>{\n        if(err) { return null }\n          setZoom(8)\n          setCurrPosition( current => current = { lat: data.coords.latitude, lng: data.coords.longitude }  )\n        })\n    } catch (error) {\n      console.log( error )\n    }\n  },[])\n\n  useEffect(()=>{\n    try {\n      if(map=== null ) return null\n    map.flyTo({lat: currPosition.lat, lng: currPosition.lng}, map.getZoom(),[currPosition])\n    } catch (error) {\n      console.log( error )\n    }\n  },[currPosition,map])\n\n  const getLatLng = (searchStr)=> {\n    searchLatLng(searchStr).then( (result ) =>  {\n      if(result){  \n        setCurrPosition((current) => current = result)\n      }\n   })\n  }\n  \n\n  return (\n    <div className='signup'>\n      \n      <div className='signup-head'>\n      <h2>Sign Up</h2>\n      <p>Solar Power Philippines</p>\n        {/* <div className='google-signin'>\n          <p>Sign in with google</p>\n          <button >Sign In</button>\n        </div> */}\n      </div>\n\n      <div className='map-wrapper'>\n\n        <div className='searchPlace'>\n          <input type=\"text\" name=\"searchPlace\" id=\"searchPlace\" className='searchPlace' onChange={e => setSearchStr((current => current = e.target.value))} placeholder='Search: Street City Province Country'/>\n          <i onClick={()=> getLatLng(searchStr)}><FaSearchLocation/></i>\n        </div>\n\n        <div className='form-map'>\n          \n            <MapContainer \n                style={{width: '100%', height: '100%'}} \n                zoom={zoom} \n                center={[currPosition.lat, currPosition.lng]} \n                scrollWheelZoom={true}\n                whenCreated={(map)=>  setMap( map )}\n              >\n                  <TileLayer\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                  />\n                <Marker position={[currPosition.lat, currPosition.lng]} icon={ point }>\n                  <Popup>Your Selected Location here!</Popup>\n                </Marker>\n            </MapContainer>\n        </div> \n      \n\n        <form onSubmit={(e)=> submitHandleSignUp(e)} className='form-info'>\n          <div>\n            <label htmlFor=\"username\">Username</label>\n            <input type=\"text\" name='username' id='username' required/>\n          </div>\n\n          <div>\n            <label htmlFor=\"email\">Email</label>\n            <input type=\"email\" name='email' id='email' required/>\n          </div>\n\n          <div>\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"password\" name='password' id='password' required placeholder='Do not use your email password' />\n          </div>\n\n          <div>\n            <label htmlFor=\"rpassword\">Repeat Password</label>\n            <input type=\"password\" name='rpassword' id='rpassword' required/>\n          </div>\n\n          <div>\n            <label htmlFor=\"name\">Name</label>\n            <input type=\"text\" name='name' id='name' required placeholder=\" (Any System Name )\"/>\n          </div>\n\n          <div>\n            <label htmlFor=\"power\">Power(kw)</label>\n            <input type=\"number\" step=\"any\" name='power' id='power' required placeholder=' (Number: 0.000 ex: 0.500 for watts)'/>\n          </div>\n\n          <div>\n            <label htmlFor=\"info\">More Information</label>\n            <textarea name=\"info\" id=\"info\" cols=\"40\" rows=\"8\" placeholder='(Optional)'></textarea>\n          </div>\n\n          <div>\n            <label htmlFor=\"lat\">Latitude</label>\n            <input type=\"number\" \n                   step='any' \n                   name='lat' \n                   id='lat' \n                   value={currPosition.lat} \n                   onChange={(e)=> setCurrPosition((current)=>  ( {...current, lat: e.target.value} ) )} \n                   required\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"lng\">Longitude</label>\n            <input type=\"number\" \n                   step='any' \n                   name='lng' \n                   id='lng' \n                   value={currPosition.lng}  \n                   onChange={(e)=> setCurrPosition((current)=> ( {...current, lng: e.target.value} ) )} \n                   required\n            />\n          </div>\n\n          <div className='submit-btn'>\n              <button type='submit'>Submit</button>\n              <button type='reset'>Clear</button>\n          </div>\n        \n        </form>\n\n        <div className='footer'>\n          <p className='back'><Link to=\"/\">Back to Map</Link></p>\n        </div>\n      </div>\n      \n\n    </div>\n    // end signup\n  \n  )\n}\n\nexport default Signup\n","import { submit } from './submit'\n\nexport const submitHandleSignUp = (e)=> {\n  e.preventDefault()\n\n  const { username, email, password,rpassword, name, power, info, lat, lng  } = e.currentTarget\n\n  if( password.value !== rpassword.value ){\n    alert('password does not match!')\n    return null\n  }\n\n  console.log('Build data...')\n\n  const data = {\n    username: username.value,\n    email: email.value,\n    passcode: password.value,\n    details:{\n      name: name.value,\n      power: power.value,\n      info: info.value,\n    },\n    position: {\n      lat: lat.value,\n      lng: lng.value\n    },\n    active: true,\n    deleted: false,\n    registeredDate: new Date()\n  }\n\n\n  console.log( 'submitting data')\n  submit(process.env.REACT_APP_BASE_API, data)\n    .then( response => response.json())\n    .then ( result => { \n      if(result.name !=='success'){\n        console.log( result.name )\n        alert(`Entry - ${JSON.stringify(result.keyValue)} alreay exist!`)\n      }else{\n        console.log( result.name )\n        alert('Thank you for singing up. Go Solar PHilippines Users!')\n      }\n    } ) \n}","export const auth = async (userInfo)=>{\n\n  const response = await fetch( process.env.REACT_APP_BASE_API + \"login\",{\n    method: \"POST\", \n    headers:{\n      \"Content-type\": \"application/json\",\n      \"Authorization\": process.env.REACT_APP_API_KEY\n    },\n    body: JSON.stringify( userInfo )\n  })\n\n  return response\n\n}","import React,{ useState } from 'react'\nimport './login.css'\nimport { Link, Redirect } from 'react-router-dom'\nimport { auth } from '../helpers/auth'\n\n\nconst Login = () => {\n  const [ isAuth, setIsAuth] = useState( false )\n  const [ userDetails, setUserDetails ] = useState({})\n  const [ userInfo, setUserInfo ] = useState({})\n\n  const submitHandle = async (e)=> {\n    e.preventDefault()\n    const response =  await auth( userInfo )\n    \n    if( response.ok ){\n      const result = await response.json()\n      setUserDetails( result )\n      setIsAuth( true )\n    }else{\n      alert('Invalid information! Please check and try again.')\n    }\n  }\n\n  if( isAuth ){\n    return <Redirect to ={ {pathname:\"/profile\", state: isAuth,  userDetails: userDetails, userInfo: userInfo } }/>\n  }\n\n  return (\n    <div className='login'>\n      \n      <div className=\"login-head\">\n        <h1>SPP</h1>\n        <p>Solar Power Philippines</p>\n      </div>\n\n        <form onSubmit={(e)=> submitHandle(e)}>\n          <div>\n            <label htmlFor=\"username\">User Name</label>\n            <input type=\"text\" \n                   id=\"username\" \n                   name=\"username\" \n                   placeholder=\"User Name (case sensitive)\" \n                   onChange ={(e)=> setUserInfo( (current) => ({...current, username: e.target.value}) ) }\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"password\" \n                   id=\"password\" \n                   name=\"password\" \n                   placeholder=\"Password (case sensitive)\"\n                   onChange={(e)=> setUserInfo( (current) => ({...current, password: e.target.value}) )} \n            />\n          </div>\n\n          <div className='login-buttons'>\n            <button className=\"btn\">Log In</button>\n          </div>\n        </form> \n\n        <div className='home'>\n          <Link to='/' >Back to Map</Link>\n        </div>\n\n        <div className='login-signup'>\n          <p>No Account yet? </p>\n          <p>Sign Up! It's free!</p>\n          <Link to='/signup' >Sign Up Now!</Link>\n        </div>\n      \n    </div>\n  )\n}\n\nexport default Login\n","export const update = async ( url, data )=>{\n  const res = await fetch(url + 'update',{\n    method: \"PUT\",\n    headers: {\n      \"Content-type\" : \"application/json\",\n      'Authorization': process.env.REACT_APP_API_KEY\n    },\n    body: JSON.stringify(data)\n  })\n\n  return res\n}","import { update } from './update'\n\nexport const submitHandleUpdate = async (e)=> {\n  e.preventDefault()\n \n  const { username, email, password,rpassword, name, power, info, lat, lng, isActive, isDeleted   } = e.currentTarget\n\n  if( password.value !== rpassword.value ){\n    alert('password does not match!')\n    return null\n  }\n\n  const data = {\n    username: username.value,\n    email: email.value,\n    passcode: password.value,\n    details:{\n      name: name.value,\n      power: power.value,\n      info: info.value,\n    },\n    position: {\n      lat: lat.value,\n      lng: lng.value\n    },\n    active: isActive.value,\n    deleted: isDeleted.value,\n    registeredDate: new Date()\n  }\n\n  const response = await  update(process.env.REACT_APP_BASE_API, data)\n  if ( response.ok ){\n    alert( `Update successful!`)\n  }\n    \n    \n}","import React,{ useState, useEffect } from 'react'\nimport './profile.css'\nimport { Link } from 'react-router-dom'\n\nimport { searchLatLng } from '../helpers/searchLatLng'\nimport { submitHandleUpdate } from '../helpers/submitHandleUpdate'\n\n\nimport { MapContainer, TileLayer, Popup, Marker } from 'react-leaflet'\nimport * as L from 'leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nimport { FaSearchLocation } from 'react-icons/fa';\nimport  solarActive from '../icons/solarActive.png'\n\nconst Profile = ( {location, ...rest} ) => {\n\n  const { username, email, details, position, active, deleted } = location.userDetails\n\n  const [ currPosition, setCurrPosition ] = useState({lat: position.lat, lng: position.lng})\n  const [ zoom, setZoom ] = useState(8)\n  const [ map, setMap ] = useState(null)\n  const [ searchStr, setSearchStr ] = useState(null)\n  const [ isActive, setIsActive ] = useState( active )\n  const [ isDeleted, setIsDeleted ] = useState( deleted )\n  const [ deleteMsg, setDeleteMsg ] = useState('')\n\n  const point = new L.Icon({\n    iconUrl: solarActive,\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n    iconSize: [25, 41],\n    iconAnchor: [12, 41],\n    popupAnchor: [1, -34],\n    shadowSize: [41, 41],\n  });\n\n  useEffect(()=>{\n    try {\n      if(map=== null ) return null\n        setZoom(8)\n        map.flyTo({lat: currPosition.lat, lng: currPosition.lng}, map.getZoom(),[currPosition])\n    } catch (error) {\n        console.log( error )\n    }\n  },[currPosition,map])\n\n\n  useEffect(()=>{\n    if(isDeleted){\n      setDeleteMsg(\"This account will be deleted after a few days and you can no longer recover.\")\n    }else{\n      setDeleteMsg(\"\")\n    }\n  }, [isDeleted])\n\n\n  const getLatLng = (searchStr)=> {\n   searchLatLng(searchStr).then( (result ) =>  {\n    if(result){  \n      setCurrPosition((current) => current = result)\n    }\n   })\n  }\n\n  \n  return (\n\n    <div className='profile'>\n      \n      <div className='profile-head'>\n        <h2>Update Profile</h2>\n        <p>Solar Power Philippines</p>\n      </div>\n\n      <div className='map-wrapper'>\n\n        <div className='searchPlace'>\n          <input type=\"text\" name=\"searchPlace\" id=\"searchPlace\" className='searchPlace' onChange={e => setSearchStr((current => current = e.target.value))} placeholder='Search: Street City Province Country'/>\n          <i onClick={()=> getLatLng(searchStr)}><FaSearchLocation/></i>\n        </div>\n\n        <div className='form-map'>\n            <MapContainer \n                style={{width: '100%', height: '100%'}} \n                zoom={zoom} \n                center={[currPosition.lat, currPosition.lng]} \n                scrollWheelZoom={true}\n                whenCreated={(map)=>  setMap( map )}\n              >\n                  <TileLayer\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                  />\n                <Marker position={[currPosition.lat, currPosition.lng]} icon={ point }>\n                  <Popup>Your Selected Location here!</Popup>\n                </Marker>\n            </MapContainer>\n        </div> \n      \n\n        <form onSubmit={(e)=> submitHandleUpdate(e)} className='form-info'>\n          <div>\n            <label htmlFor=\"username\">Username</label>\n            <input type=\"text\" name='username' id='username' value={username} readOnly/>\n          </div>\n\n          <div>\n            <label htmlFor=\"email\">Email</label>\n            <input type=\"email\" name='email' id='email' defaultValue={email} required/>\n          </div>\n\n          <div>\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"password\" name='password' id='password' defaultValue={location.userInfo.password} />\n          </div>\n\n          <div>\n            <label htmlFor=\"rpassword\">Repeat Password</label>\n            <input type=\"password\" name='rpassword' id='rpassword' required/>\n          </div>\n\n          <div>\n            <label htmlFor=\"name\">Name</label>\n            <input type=\"text\" name='name' id='name' defaultValue={details.name} required placeholder=\" (System name)\"/>\n          </div>\n\n          <div>\n            <label htmlFor=\"power\">Power(kw)</label>\n            <input type=\"number\" step=\"any\" name='power' id='power' defaultValue={details.power} required placeholder=' (Number: 0.000)'/>\n          </div>\n\n          <div>\n            <label htmlFor=\"info\">More Information</label>\n            <textarea name=\"info\" id=\"info\" cols=\"40\" rows=\"8\" defaultValue={details.info}  placeholder='(Optional)'></textarea>\n          </div>\n\n          <div>\n            <label htmlFor=\"lat\">Latitude</label>\n            <input type=\"number\" step='any' name='lat' id='lat' value={ currPosition.lat } onChange={(e)=> setCurrPosition((current)=> ({...current, lat: e.target.value}) )} required/>\n          </div>\n\n          <div>\n            <label htmlFor=\"lng\">Longitude</label>\n            <input type=\"number\" step='any' name='lng' id='lng' value={ currPosition.lng } onChange={(e)=> setCurrPosition((current)=> ({...current, lat: e.target.value}) )} required/>\n          </div>\n\n          <div className='delete-message' style={{color: 'red'}}  >{deleteMsg}</div>\n          <div className='submit-btn'>\n              <button id=\"submit\" name=\"submit\" type='submit'>Update</button>\n              <button id=\"isActive\" name=\"isActive\" type=\"button\" value={isActive} onClick={()=>setIsActive(!isActive)} >{ isActive? \"Deactivate\" : \"Activate\" }</button>\n              <button id=\"isDeleted\" name=\"isDeleted\" type=\"button\" value={isDeleted} style={{color: 'red'}} onClick={()=> setIsDeleted(!isDeleted)} >{ isDeleted? \"Undo Del\" : \"Delete\" }</button>\n          </div>\n        </form>\n        <div className='footer'>\n          <Link to='/'>Back to Map</Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Profile\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\n\nconst ProtectedRoute = ({component: Component, ...rest}) => {\n\n  return (\n    <>\n      <Route {...rest} render={ (props)=>{ \n        if({...rest}.location.state){\n          return <Component { ...props } /> \n        }else{\n          return <Redirect to=\"/login\"  />\n        }\n      }} />\n    </>\n  )\n}\n\nexport default ProtectedRoute\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport { BrowserRouter as Router, Switch, Route} from 'react-router-dom'\n\nimport App from './App';\nimport About from './pages/About'\nimport Signup from './pages/Signup'\nimport Login from './pages/Login'\nimport Profile from './pages/Profile';\nimport ProtectedRoute from './components/ProtectedRoute'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Switch>\n        <Route path=\"/signup\" component={Signup} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/about\" component={About} />\n        <ProtectedRoute path=\"/profile\" component={Profile} />\n        <Route path='/' component={App} />\n      </Switch>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}